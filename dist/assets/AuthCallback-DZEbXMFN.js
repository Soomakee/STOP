import{_ as n,u as l,o as u,a as i,c as h,b as a,g as d}from"./index-BFUiEny6.js";const _={class:"auth-callback"},p={__name:"AuthCallback",setup(f){const r=i(),c=l();return u(async()=>{const o=new URLSearchParams(window.location.search),e=o.get("code"),s=o.get("error");if(s){console.error("Discord OAuth error:",s),r.push("/login?error=auth_failed");return}if(!e){r.push("/login?error=no_code");return}try{await c.handleAuthCallback(e)?r.push("/"):r.push("/login?error=auth_failed")}catch(t){console.error("Authentication callback error:",t),r.push("/login?error=auth_failed")}}),(o,e)=>(d(),h("div",_,e[0]||(e[0]=[a("div",{class:"loading-container"},[a("div",{class:"loading-spinner"}),a("p",null,"Authenticating with Discord...")],-1)])))}},b=n(p,[["__scopeId","data-v-22b3639f"]]);export{b as default};
